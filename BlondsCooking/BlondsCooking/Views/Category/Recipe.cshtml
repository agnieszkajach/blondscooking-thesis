@model BlondsCooking.Models.RecipeRateViewModel

@{
    ViewBag.Title = "Recipe";
    var imagePath = @Model.Image;
}

<h2>Recipe</h2>

<div ng-app="RecipeModule">
    <h4>Recipe</h4>
    <hr/>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Image)
        </dt>

        <dd>
            <img class="img-recipe" src="@Url.Content(Model.Image)" alt="Image"/>
        </dd>
    </dl>

    @if (Request.IsAuthenticated)
    {
        <div ng-controller="RecipeController">
            <input id="recipeId" type="hidden" value="@Model.Id" />
            <div class="col-md-offset-2 col-md-10">
                <select class="form-control" name="rateSelect" ng-model="rateValue" ng-options="r for r in rates">
                </select>
            </div>
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Apply" class="btn btn-default" ng-click="rateRecipe(rateValue)"/>
                </div>
            </div>
        </div>
    }

    <div>

    </div>
</div>

<script>
  app.value('myValue', @Html.Raw(Json.Encode(Model)))
 </script>

@section scripts
{
    <script src="~/Modules/RecipeClient.js"></script>
}

